{"version":3,"file":"static/js/438.82470d3a.chunk.js","mappings":"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","sources":["routes/Detail.js","hooks/useLike.js","hooks/useUserName.js"],"sourcesContent":["import { useState, useEffect, useContext } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport { Nav } from \"react-bootstrap\";\r\nimport { addItem } from \"../store\";\r\nimport { Context1 } from \"../App\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport axios from \"axios\";\r\nimport { useQueries, useQuery, useQueryClient } from \"@tanstack/react-query\";\r\nimport { useLike } from \"../hooks/useLike.js\";\r\nimport { useUserName } from \"../hooks/useUserName\";\r\n// let YellowBtn = styled.button`\r\n//   background : ${ props => props.bg };\r\n//   color : ${ props => props.bg == 'blue' ? 'white' : 'black' };\r\n//   padding : 10px;\r\n// `\r\n\r\n// let NewBtn = styled.button(YellowBtn)\r\n\r\nlet Box = styled.div`\r\n  margin: 0 auto;\r\n  width: 100px;\r\n  height: 100px;\r\n  background: yellow;\r\n`;\r\n\r\nfunction Detail(props) {\r\n  let [like, addLike] = useLike();\r\nconst userName = useUserName();\r\n  // axios.get('/username.json')\r\n\r\n\r\n  let [count, setCount] = useState(0);\r\n  let [showBox, setShowBox] = useState(true);\r\n  let [message, setMessage] = useState(\"\");\r\n  let [tab, switchTab] = useState(0);\r\n  let dispatch = useDispatch();\r\n\r\n  let q = useQueryClient()\r\n  let result = q.getQueryData(['getName'])\r\n  console.log(result);\r\n\r\n\r\n  useEffect(() => {\r\n    let 꺼낸거 = localStorage.getItem(\"watched\");\r\n    꺼낸거 = JSON.parse(꺼낸거);\r\n    꺼낸거.push(찾은상품.id);\r\n    꺼낸거 = new Set(꺼낸거);\r\n    꺼낸거 = Array.from(꺼낸거);\r\n    localStorage.setItem(\"watched\", JSON.stringify(꺼낸거));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    // 여기적은 코드는 컴포넌트 로드 & 업데이트 마다 실행됨\r\n    let a = setTimeout(() => {\r\n      setShowBox(false);\r\n    }, 2000);\r\n    return () => {\r\n      clearTimeout(a); // 타이머 제거\r\n    };\r\n  }, []);\r\n\r\n  // 숙제\r\n  useEffect(() => {\r\n    if (isNaN(message) == true) {\r\n      alert(\"그러지마세요\");\r\n    }\r\n  }, [message]);\r\n\r\n  let { id } = useParams(); // 현재 URL의 파라미터(id)를 꺼냄 예: /detail/2 → id = \"2\"\r\n  let 찾은상품 = props.shoes.find(function (x) {\r\n    return x.id == id;\r\n    // shoes 배열에서 id가 같은 상품 객체를 찾아 반환(x.id === id)\r\n    // 예: shoes 배열에 {id:2, title:\"Red Knit\"} → 이게 반환됨\r\n  });\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <h3>유저 이름: {userName}</h3>\r\n      {count}\r\n      <button onClick={() => setCount(count + 1)}>Button</button>\r\n      {/* <YellowBtn bg=\"blue\">버튼</YellowBtn>\r\n      <YellowBtn bg=\"orange\">버튼</YellowBtn> */}\r\n\r\n      {showBox == true ? (\r\n        <Box>\r\n          2초뒤에 <br /> 사라져라\r\n        </Box>\r\n      ) : null}\r\n\r\n      <input\r\n        onChange={e => {\r\n          setMessage(e.target.value);\r\n        }}\r\n      />\r\n\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6\">\r\n          <img src=\"https://codingapple1.github.io/shop/shoes1.jpg\" width=\"100%\" />\r\n        </div>\r\n        <div className=\"col-md-6 mt-4\">\r\n          {like} <span onClick={addLike}>❤️</span>\r\n          {/* ㄴ> a에는 기존 state 값 들어있음  */}\r\n          <h4 className=\"pt-5\">{찾은상품.title}</h4>\r\n          {/* 헤당 상품 정보 출력\r\n          이렇게 하면 URL /detail/2 접속 시, → 찾은상품이 id=2인 객체가 되고 → 그 상품의 제목, 설명, 가격이 화면에 출력 */}\r\n          <p>{찾은상품.content}</p>\r\n          <p>{찾은상품.price}원</p>\r\n          <button\r\n            className=\"btn btn-danger\"\r\n            onClick={() => {\r\n              dispatch(addItem({ id: 1, name: \"검정 신발\", count: 1 }));\r\n            }}\r\n          >\r\n            주문하기\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <Nav variant=\"tabs\" defaultActiveKey=\"link0\">\r\n        <Nav.Item>\r\n          <Nav.Link\r\n            onClick={() => {\r\n              switchTab(0);\r\n            }}\r\n            eventKey=\"link0\"\r\n          >\r\n            버튼0\r\n          </Nav.Link>\r\n        </Nav.Item>\r\n        <Nav.Item>\r\n          <Nav.Link\r\n            onClick={() => {\r\n              switchTab(1);\r\n            }}\r\n            eventKey=\"link1\"\r\n          >\r\n            버튼1\r\n          </Nav.Link>\r\n        </Nav.Item>\r\n        <Nav.Item>\r\n          <Nav.Link\r\n            onClick={() => {\r\n              switchTab(2);\r\n            }}\r\n            eventKey=\"link2\"\r\n          >\r\n            버튼2\r\n          </Nav.Link>\r\n        </Nav.Item>\r\n      </Nav>\r\n      {/* {\r\n        tab == 0 ? <div>내용0</div> : null\r\n      }\r\n      {\r\n        tab == 1 ? <div>내용0</div> : null\r\n      } */}\r\n\r\n      <TabContent tab={tab} />\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction TabContent({ tab }) {\r\n  let [fade, setFade] = useState(\"\");\r\n  let { 재고 } = useContext(Context1);\r\n\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      setFade(\"end\");\r\n    }, 100);\r\n\r\n    return () => {\r\n      setFade(\"\");\r\n    };\r\n  }, [tab]); // 탭이라는게 변경될 때 마다 실행\r\n\r\n  // if (props.tab == 0){\r\n  //   return <div>내용0</div>\r\n  // }\r\n  // if (props.tab == 1){\r\n  //   return <div>내용1</div>\r\n  // }\r\n  // if (props.tab == 2){\r\n  //   return <div>내용2</div>\r\n  // }\r\n\r\n  return <div className={\"start \" + fade}>{[<div>{재고}</div>, <div>내용1</div>, <div>내용2</div>][tab]}</div>;\r\n}\r\n\r\nexport default Detail;\r\n","import { useState } from \"react\";\r\n\r\nexport function useLike(){\r\n  let [like, setLike] = useState(0);\r\n  function addLike(){\r\n    setLike(a => a + 1);\r\n  }\r\n\r\n  return [like, addLike];\r\n}","import { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nexport function useUserName() {\r\n  const [userName, setUserName] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    axios.get(\"/username.json\")\r\n      .then(res => setUserName(res.data))\r\n      .catch(err => console.error(\"실패:\", err));\r\n  }, []);\r\n\r\n  return userName;\r\n}\r\n"],"names":["Box","styled","div","_templateObject","_taggedTemplateLiteral","TabContent","_ref","tab","fade","setFade","useState","재고","useContext","Context1","useEffect","setTimeout","_jsx","className","children","props","like","addLike","setLike","a","useLike","userName","setUserName","axios","get","then","res","data","catch","err","console","error","useUserName","count","setCount","showBox","setShowBox","message","setMessage","switchTab","dispatch","useDispatch","result","useQueryClient","getQueryData","log","꺼낸거","localStorage","getItem","JSON","parse","push","찾은상품","id","Set","Array","from","setItem","stringify","clearTimeout","isNaN","alert","useParams","shoes","find","x","_jsxs","onClick","onChange","e","target","value","src","width","title","content","price","addItem","name","Nav","variant","defaultActiveKey","Item","Link","eventKey"],"sourceRoot":""}